<div class="max-w-2xl mx-auto bg-slate-800 p-6 rounded-lg shadow-md border border-slate-700">
  <h2 class="text-xl font-semibold mb-4 text-yellow-400">👤 User Form</h2>

  <!-- ✅ Success/Error Message -->
  <div *ngIf="message"
       [ngClass]="{
         'bg-green-600 text-white': messageType === 'success',
         'bg-red-600 text-white': messageType === 'error'
       }"
       class="p-3 mb-4 rounded-md">
    {{ message }}
  </div>

  <form (ngSubmit)="onSubmit()" #userForm="ngForm" class="space-y-4">
    <!-- Name -->
    <div>
      <label class="block text-sm mb-1">Full Name</label>
      <input type="text" name="name" [(ngModel)]="user.name"
             required
             class="w-full px-3 py-2 rounded bg-slate-900 border border-slate-700 text-slate-100 focus:ring-2 focus:ring-yellow-400 focus:outline-none">
    </div>

    <!-- Email -->
    <div>
      <label class="block text-sm mb-1">Email</label>
      <input type="email" name="email" [(ngModel)]="user.email"
             required
             class="w-full px-3 py-2 rounded bg-slate-900 border border-slate-700 text-slate-100 focus:ring-2 focus:ring-yellow-400 focus:outline-none">
    </div>

    <!-- Password -->
    <div class="relative">
      <label class="block text-sm mb-1">Password</label>
      <input [type]="showPassword ? 'text' : 'password'"
             name="password"
             [(ngModel)]="user.password"
             required minlength="6"
             class="w-full px-3 py-2 pr-10 rounded bg-slate-900 border border-slate-700 text-slate-100 focus:ring-2 focus:ring-yellow-400 focus:outline-none"
             placeholder="Enter password">
      
      <!-- Toggle Button -->
      <button type="button"
              (click)="showPassword = !showPassword"
              class="absolute right-3 top-9 text-slate-400 hover:text-yellow-400">
        <span *ngIf="!showPassword">👁️</span>
        <span *ngIf="showPassword">🙈</span>
      </button>
    </div>

    <!-- User Type -->
    <div>
      <label class="block text-sm mb-1">User Type</label>
      <select name="userType" [(ngModel)]="user.userType"
              required
              class="w-full px-3 py-2 rounded bg-slate-900 border border-slate-700 text-slate-100 focus:ring-2 focus:ring-yellow-400 focus:outline-none">
        <option value="SuperAdmin">SuperAdmin</option>
        <option value="Admin">Admin</option>
        <option value="Branch">Branch</option>
      </select>
    </div>

    <!-- Submit Buttons -->
      <div class="pt-4 flex gap-3">
        <!-- Save (Create) -->
        <button *ngIf="!user.id && pagePermissionService.hasComponent('User Menu', 'Form','Save')"
                type="submit"
                [disabled]="!userForm.form.valid"
                class="flex-1 bg-green-500 hover:bg-green-600 text-white font-semibold py-2 px-4 rounded shadow-md transition">
          💾 Save User
        </button>

        <!-- Update -->
        <button *ngIf="user.id"
                type="submit"
                [disabled]="!userForm.form.valid"
                class="flex-1 bg-blue-500 hover:bg-blue-600 text-white font-semibold py-2 px-4 rounded shadow-md transition">
          🔄 Update User
        </button>
      </div>

    
  </form>

  <!-- Footer -->
  <div class="col-12 mt-5">
    <footer class="border-top pt-2 pb-0 small">
      <div class="d-flex justify-content-center align-items-center gap-2">
        <!-- Logo -->
        <div>
          <img src="/logon.png" alt="Logo"
               style="max-width: 50px; height: auto;"
               class="img-fluid">
        </div>

        <!-- Organization Info -->
        <div class="text-center pt-1">
          <p class="fw-semibold text-white mb-1">
            Bangladesh Islami Chatro Shibir
          </p>
          <a href="https://shibir.org.bd/" target="_blank" rel="noopener noreferrer"
             class="text-primary fw-bold text-decoration-none">
            www.shibir.org.bd
          </a>
        </div>
      </div>
    </footer>
  </div>
</div>
